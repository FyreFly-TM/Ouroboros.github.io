<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Token Reference - Ouroboros</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <div class="nav-inner">
      <a href="index.html" class="brand"><img src="OuroborosLogo.png" alt="Ouroboros" class="logo">Ouroboros</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="getting_started.html">Get Started</a>
        <a href="examples.html">Examples</a>
        <a href="flows.html">Flows</a>
        <a href="reference.html">Reference</a>
        <a href="arrows.html">Arrows</a>
        <a href="tokens.html">Tokens</a>
        <a href="files.html">Files</a>
        <a href="stdlib.html">Std Lib</a>
        <a href="downloads.html">Downloads</a>
      </div>
    </div>
  </nav>

  <div class="doc-layout">
    <aside class="doc-panel toc">
      <h3>Tokens</h3>
      <ul>
        <li><a href="#keywords">Keywords</a></li>
        <li><a href="#declarations">Declarations</a></li>
        <li><a href="#operators">Operators</a></li>
        <li><a href="#comparison">Comparison</a></li>
        <li><a href="#punctuation">Punctuation</a></li>
        <li><a href="#literals">Literals</a></li>
        <li><a href="#comments">Comments</a></li>
      </ul>
    </aside>

    <main class="doc-panel doc-content">
      <div class="doc-header">
        <div class="badge">Language Reference</div>
        <h1>Token Reference</h1>
        <p>Complete guide to all keywords, operators, and syntax elements.</p>
      </div>

      <div class="doc-section" id="keywords">
        <h2>Keywords</h2>
        <table class="table">
          <thead>
            <tr><th>Keyword</th><th>Purpose</th><th>Example</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Flow</code></td>
              <td>Declare a flow (function)</td>
              <td><div class="code-block">Flow Add(a, b)
    return a + b</div></td>
            </tr>
            <tr>
              <td><code>return</code></td>
              <td>Return value(s) from a flow</td>
              <td><div class="code-block">return result
return a, b, c</div></td>
            </tr>
            <tr>
              <td><code>if</code></td>
              <td>Conditional branch</td>
              <td><div class="code-block">if score ≥ 90
    grade := "A"</div></td>
            </tr>
            <tr>
              <td><code>elseif</code></td>
              <td>Additional conditional</td>
              <td><div class="code-block">elseif score ≥ 80
    grade := "B"</div></td>
            </tr>
            <tr>
              <td><code>else</code></td>
              <td>Default branch</td>
              <td><div class="code-block">else
    grade := "F"</div></td>
            </tr>
            <tr>
              <td><code>while</code></td>
              <td>Loop while condition is true</td>
              <td><div class="code-block">while i < 10
    i += 1</div></td>
            </tr>
            <tr>
              <td><code>true</code></td>
              <td>Boolean true literal</td>
              <td><code>active := true</code></td>
            </tr>
            <tr>
              <td><code>false</code></td>
              <td>Boolean false literal</td>
              <td><code>paused := false</code></td>
            </tr>
            <tr>
              <td><code>Print</code></td>
              <td>Built-in output function</td>
              <td><code>"Hello" -> Print</code></td>
            </tr>
            <tr>
              <td><code>Call</code></td>
              <td>Sink for side-effect chains</td>
              <td><code>data -> Process -> Call</code></td>
            </tr>
          </tbody>
        </table>

        <h3>Type Keywords (File-Specific)</h3>
        <table class="table">
          <thead>
            <tr><th>Keyword</th><th>File Type</th><th>Purpose</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Variable</code></td>
              <td>.var</td>
              <td>Define a variable type/prototype</td>
            </tr>
            <tr>
              <td><code>Component</code></td>
              <td>.comp</td>
              <td>Define a component (field collection)</td>
            </tr>
            <tr>
              <td><code>Entity</code></td>
              <td>.ent</td>
              <td>Define an entity (component aggregate)</td>
            </tr>
            <tr>
              <td><code>Template</code></td>
              <td>.ent</td>
              <td>Define an entity template</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="doc-section" id="declarations">
        <h2>Declaration & Assignment</h2>
        <div class="grid">
          <div class="card">
            <h3>Mutable Declaration (:=)</h3>
            <p>Create a variable that can be reassigned.</p>
            <div class="code-block">count := 0
name := "Alice"
values := [1, 2, 3]</div>
          </div>
          <div class="card">
            <h3>Immutable Declaration (=:)</h3>
            <p>Create a constant that cannot be reassigned.</p>
            <div class="code-block">PI =: 3.14159
MAX_SIZE =: 100</div>
          </div>
          <div class="card">
            <h3>Assignment (=)</h3>
            <p>Reassign an existing mutable variable.</p>
            <div class="code-block">count := 0
count = 5
count = count + 1</div>
          </div>
          <div class="card">
            <h3>Compound Assignment</h3>
            <p>Modify a variable in place.</p>
            <div class="code-block">x := 10
x += 5   // x = 15
x -= 3   // x = 12
x *= 2   // x = 24
x /= 4   // x = 6
x %= 4   // x = 2</div>
          </div>
        </div>
      </div>

      <div class="doc-section" id="operators">
        <h2>Arithmetic Operators</h2>
        <table class="table">
          <thead>
            <tr><th>Operator</th><th>Name</th><th>Example</th><th>Result</th></tr>
          </thead>
          <tbody>
            <tr><td><code>+</code></td><td>Addition</td><td><code>10 + 5</code></td><td>15</td></tr>
            <tr><td><code>-</code></td><td>Subtraction</td><td><code>10 - 5</code></td><td>5</td></tr>
            <tr><td><code>*</code></td><td>Multiplication</td><td><code>10 * 5</code></td><td>50</td></tr>
            <tr><td><code>/</code></td><td>Division</td><td><code>10 / 5</code></td><td>2</td></tr>
            <tr><td><code>%</code></td><td>Modulo</td><td><code>10 % 3</code></td><td>1</td></tr>
            <tr><td><code>-</code></td><td>Negation (unary)</td><td><code>-42</code></td><td>-42</td></tr>
          </tbody>
        </table>

        <h3>String Concatenation</h3>
        <div class="code-block">greeting := "Hello, " + "World!"  // "Hello, World!"</div>
      </div>

      <div class="doc-section" id="comparison">
        <h2>Comparison Operators</h2>
        <p><strong>Important:</strong> Use Unicode symbols <code>≥</code> and <code>≤</code> for greater/less-or-equal comparisons.</p>
        <table class="table">
          <thead>
            <tr><th>Operator</th><th>Name</th><th>Example</th></tr>
          </thead>
          <tbody>
            <tr><td><code>==</code></td><td>Equal</td><td><code>a == b</code></td></tr>
            <tr><td><code>!=</code></td><td>Not equal</td><td><code>a != b</code></td></tr>
            <tr><td><code>></code></td><td>Greater than</td><td><code>a > b</code></td></tr>
            <tr><td><code><</code></td><td>Less than</td><td><code>a < b</code></td></tr>
            <tr><td><code>≥</code></td><td>Greater than or equal</td><td><code>a ≥ b</code></td></tr>
            <tr><td><code>≤</code></td><td>Less than or equal</td><td><code>a ≤ b</code></td></tr>
          </tbody>
        </table>

        <h3>Logical Operators</h3>
        <table class="table">
          <thead>
            <tr><th>Operator</th><th>Name</th><th>Example</th></tr>
          </thead>
          <tbody>
            <tr><td><code>&</code></td><td>Logical AND</td><td><code>a & b</code></td></tr>
            <tr><td><code>|</code></td><td>Logical OR</td><td><code>a | b</code></td></tr>
            <tr><td><code>!</code></td><td>Logical NOT</td><td><code>!a</code></td></tr>
          </tbody>
        </table>

        <div class="code-block">if active & !paused
    "Running" -> Print

if error | warning
    "Check logs" -> Print</div>
      </div>

      <div class="doc-section" id="punctuation">
        <h2>Punctuation & Delimiters</h2>
        <table class="table">
          <thead>
            <tr><th>Symbol</th><th>Name</th><th>Purpose</th></tr>
          </thead>
          <tbody>
            <tr><td><code>,</code></td><td>Comma</td><td>Sequential separator (arguments, returns, array elements)</td></tr>
            <tr><td><code>:</code></td><td>Colon</td><td>Parallel separator or part of := and =:</td></tr>
            <tr><td><code>::</code></td><td>Double Colon</td><td>Success handler in flow labels</td></tr>
            <tr><td><code>||</code></td><td>Double Pipe</td><td>Failure handler in flow labels</td></tr>
            <tr><td><code>( )</code></td><td>Parentheses</td><td>Grouping expressions, function calls</td></tr>
            <tr><td><code>[ ]</code></td><td>Brackets</td><td>Array literals and indexing</td></tr>
            <tr><td><code>{ }</code></td><td>Braces</td><td>Object initialization</td></tr>
            <tr><td><code>.</code></td><td>Dot</td><td>Field access</td></tr>
            <tr><td><code>?</code></td><td>Question Mark</td><td>Action in flow labels or transformation in gates</td></tr>
          </tbody>
        </table>

        <h3>Flow Label Syntax</h3>
        <p>Flow labels use special punctuation for condition/action/handler patterns:</p>
        <div class="code-block">// Flow label syntax: -[condition ? action :: success || failure]-
Flow Process(x) -[x > 0 ? Log("pre") :: Log("ok") || Log("fail")]-
    // Flow body</div>

        <h3>Sequential vs Parallel Execution</h3>
        <p>Ouroboros distinguishes between sequential (<code>,</code>) and parallel (<code>:</code>) execution:</p>
        <div class="code-block">// Sequential execution with comma
"Step 1" -> Print,
"Step 2" -> Print,
"Step 3" -> Print

// Parallel execution with colon
TaskA() : TaskB() : TaskC() -> Print</div>

        <h3>Other Examples</h3>
        <div class="code-block">// Comma separates arguments
ProcessAll(a, b, c)

// Brackets for arrays
numbers := [1, 2, 3, 4, 5]
first := numbers[0]

// Parentheses for grouping
result := (a + b) * (c - d)

// Dot for field access
player.health = 100
player.position.x = 50</div>
      </div>

      <div class="doc-section" id="literals">
        <h2>Literals</h2>
        <div class="grid">
          <div class="card">
            <h3>Numbers</h3>
            <p>Integers and floating-point numbers.</p>
            <div class="code-block">integer := 42
negative := -17
decimal := 3.14159
scientific := 1.5e10</div>
          </div>
          <div class="card">
            <h3>Strings</h3>
            <p>Double-quoted UTF-8 text.</p>
            <div class="code-block">name := "Ouroboros"
message := "Hello, World!"
unicode := "こんにちは"</div>
          </div>
          <div class="card">
            <h3>Booleans</h3>
            <p>True or false values.</p>
            <div class="code-block">active := true
paused := false</div>
          </div>
          <div class="card">
            <h3>Arrays</h3>
            <p>Ordered collections in square brackets.</p>
            <div class="code-block">numbers := [1, 2, 3, 4, 5]
mixed := [42, "text", true]
nested := [[1, 2], [3, 4]]
empty := []</div>
          </div>
        </div>
      </div>

      <div class="doc-section" id="comments">
        <h2>Comments</h2>
        <p>Single-line comments start with <code>//</code>.</p>
        <div class="code-block">// This is a comment
value := 42  // Inline comment

// Multi-line comments use multiple //
// Line 1
// Line 2
// Line 3</div>
      </div>
    </main>
  </div>

  <footer>
    <p>Ouroboros Language © 2026</p>
  </footer>

  <script>
    // Add copy buttons to all code blocks
    document.addEventListener('DOMContentLoaded', function() {
      const codeBlocks = document.querySelectorAll('.code-block');
      
      codeBlocks.forEach((block, index) => {
        // Create wrapper
        const wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';
        block.parentNode.insertBefore(wrapper, block);
        wrapper.appendChild(block);
        
        // Create copy button
        const copyBtn = document.createElement('button');
        copyBtn.className = 'copy-btn';
        copyBtn.textContent = 'Copy';
        copyBtn.setAttribute('data-code-index', index);
        
        wrapper.appendChild(copyBtn);
        
        // Copy functionality
        copyBtn.addEventListener('click', function() {
          const code = block.textContent;
          navigator.clipboard.writeText(code).then(() => {
            // Show success state
            const originalText = copyBtn.textContent;
            copyBtn.textContent = 'Copied!';
            copyBtn.classList.add('copied');
            
            setTimeout(() => {
              copyBtn.textContent = originalText;
              copyBtn.classList.remove('copied');
            }, 2000);
          }).catch(err => {
            console.error('Failed to copy:', err);
            copyBtn.textContent = 'Failed';
            setTimeout(() => {
              copyBtn.textContent = 'Copy';
            }, 2000);
          });
        });
      });
    });
  </script>
</body>
</html>
