<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Language Reference - Ouroboros</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <div class="nav-inner">
      <a href="index.html" class="brand"><img src="OuroborosLogo.png" alt="Ouroboros" class="logo"><span class="brand-text">Ouroboros</span></a>
      <div class="search-container">
        <div class="search-wrapper">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
          </svg>
          <input type="text" id="doc-search" class="search-input" placeholder="Search (Ctrl+K)" autocomplete="off" />
          <div id="search-results" class="search-results"></div>
        </div>
      </div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="getting_started.html">Get Started</a>
        <a href="examples.html">Examples</a>
        <a href="flows.html">Flows</a>
        <a href="domains.html">Domains</a>
        <a href="reference.html">Reference</a>
        <a href="rex_aot.html">REX &amp; AOT</a>
        <a href="arrows.html">Arrows</a>
        <a href="tokens.html">Tokens</a>
        <a href="files.html">Files</a>
        <a href="stdlib.html">Std Lib</a>
        <a href="windows.html">Windows</a>
        <a href="downloads.html">Downloads</a>
      </div>
    </div>
  </nav>

  <div class="doc-layout">
    <aside class="doc-panel toc">
      <h3>Reference</h3>
      <ul>
        <li><a href="#variables">Variables</a></li>
        <li><a href="#data-types">Data Types</a></li>
        <li><a href="#operators">Operators</a></li>
        <li><a href="#control-flow">Control Flow</a></li>
        <li><a href="#variable-types">.var Types</a></li>
        <li><a href="#components">.comp Components</a></li>
        <li><a href="#entities">.ent Entities</a></li>
        <li><a href="#field-access">Field Access</a></li>
        <li><a href="#execution">Execution Model</a></li>
      </ul>
    </aside>

    <main class="doc-panel doc-content">
      <div class="doc-header">
        <div class="badge">Complete Reference</div>
        <h1>Language Reference</h1>
        <p>In-depth documentation of all Ouroboros language features and semantics.</p>
      </div>

      <div class="doc-section" id="variables">
        <h2>Variables</h2>
        <p>Variables in Ouroboros store values and can be mutable or immutable.</p>

        <h3>Mutable Declaration (:=)</h3>
        <p>Create a variable that can be reassigned later:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Mutable Variables
// Save as: mutable_vars.ouro

"=== Mutable Variables Demo ==="  -> Print

count := 0
name := "Player"
health := 100.0
active := true
items := [1, 2, 3]

"Initial values:" -> Print
"count: " + count -> Print
"name: " + name -> Print
"health: " + health -> Print
"active: " + active -> Print

// These can all be changed
count = 10
name = "Hero"
health = 75.5

"" -> Print
"After changes:" -> Print
"count: " + count -> Print
"name: " + name -> Print
"health: " + health -> Print

// Expected Output:
// === Mutable Variables Demo ===
// Initial values:
// count: 0.00
// name: Player
// health: 100.00
// active: true
//
// After changes:
// count: 10.00
// name: Hero
// health: 75.50</div>

        <h3>Immutable Declaration (=:)</h3>
        <p>Create a constant that cannot be reassigned:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Immutable Constants
// Save as: constants.ouro

"=== Immutable Constants Demo ==="  -> Print

PI =: 3.14159
MAX_HEALTH =: 100
GAME_TITLE =: "Ouroboros"

"Constants:" -> Print
"PI = " + PI -> Print
"MAX_HEALTH = " + MAX_HEALTH -> Print
"GAME_TITLE = " + GAME_TITLE -> Print

// Calculate circle area
radius := 5
area := PI * radius * radius
"" -> Print
"Circle with radius " + radius + ":" -> Print
"Area = " + area -> Print

// Expected Output:
// === Immutable Constants Demo ===
// Constants:
// PI = 3.14
// MAX_HEALTH = 100.00
// GAME_TITLE = Ouroboros
//
// Circle with radius 5.00:
// Area = 78.54</div>

        <h3>Assignment (=)</h3>
        <p>Reassign a mutable variable:</p>
        <div class="code-block">health := 100
health = 75      // Valid: reassignment
health = 50      // Valid: reassignment again</div>

        <div class="card" style="border-left: 4px solid #e74c3c; margin: 1rem 0;">
          <h4>⚠️ Redefinition Error</h4>
          <p>You cannot redefine an existing variable with <code>:=</code> or <code>=:</code>. Use <code>=</code> to reassign mutable variables instead.</p>
          <div class="code-block">x := 10
x := 20    // ERROR: Variable 'x' is already defined. Use '=' to reassign

// Correct way to change the value:
x := 10
x = 20     // Valid: reassignment with =</div>
        </div>

        <h3>Compound Assignment</h3>
        <p>Modify a variable in place:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Compound Assignment
// Save as: compound.ouro

"=== Compound Assignment Demo ==="  -> Print

x := 10
"Starting x = " + x -> Print

x += 5
"x += 5  => x = " + x -> Print

x -= 3
"x -= 3  => x = " + x -> Print

x *= 2
"x *= 2  => x = " + x -> Print

x /= 4
"x /= 4  => x = " + x -> Print

x %= 4
"x %= 4  => x = " + x -> Print

// Expected Output:
// === Compound Assignment Demo ===
// Starting x = 10.00
// x += 5  => x = 15.00
// x -= 3  => x = 12.00
// x *= 2  => x = 24.00
// x /= 4  => x = 6.00
// x %= 4  => x = 2.00</div>

        <h3>Reactive Binding (<-)</h3>
        <p>Create a variable that automatically updates when its dependencies change:</p>
        <div class="code-block">width := 10
height := 5

// area is reactively bound - updates automatically
area <- width * height

width = 20  // area is now 100 (auto-updated)</div>
      </div>

      <div class="doc-section" id="data-types">
        <h2>Data Types</h2>
        <p>Ouroboros supports several built-in data types.</p>

        <h3>Numbers</h3>
        <p>All numbers in Ouroboros are floating-point internally:</p>
        <div class="code-block">integer := 42
decimal := 3.14159
negative := -17
large := 1000000.0</div>

        <h3>Strings</h3>
        <p>Double-quoted UTF-8 text with concatenation support:</p>
        <div class="code-block">name := "Ouroboros"
greeting := "Hello, " + name + "!"
unicode := "こんにちは"</div>

        <h3>Booleans</h3>
        <p>True or false values for logic:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Booleans
// Save as: booleans.ouro

"=== Booleans Demo ==="  -> Print

active := true
paused := false

"active = " + active -> Print
"paused = " + paused -> Print

// Booleans in conditions
"" -> Print
if (active & !paused)
    "Status: Running (active AND not paused)" -> Print
else
    "Status: Stopped" -> Print

// Toggle pause
paused = true
"" -> Print
"After setting paused = true:" -> Print
if (active & !paused)
    "Status: Running" -> Print
else
    "Status: Paused" -> Print

// Expected Output:
// === Booleans Demo ===
// active = true
// paused = false
//
// Status: Running (active AND not paused)
//
// After setting paused = true:
// Status: Paused</div>

        <h3>Arrays</h3>
        <p>Ordered collections with zero-based indexing:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Arrays
// Save as: arrays.ouro

"=== Arrays Demo ==="  -> Print

// Literal arrays
numbers := [1, 2, 3, 4, 5]
mixed := [42, "text", true]
empty := []

"numbers array: " -> Print
i := 0
while (i < Len(numbers))
    "  [" + i + "] = " + numbers[i] -> Print
    i = i + 1

"" -> Print
"mixed array: " -> Print
"  [0] = " + mixed[0] -> Print
"  [1] = " + mixed[1] -> Print
"  [2] = " + mixed[2] -> Print

// Access elements (0-based)
"" -> Print
first := numbers[0]
second := numbers[1]
"First element: " + first -> Print
"Second element: " + second -> Print

// Modify element
numbers[2] = 99
"After numbers[2] = 99:" -> Print
"  numbers[2] = " + numbers[2] -> Print

// Expected Output:
// === Arrays Demo ===
// numbers array:
//   [0] = 1.00
//   [1] = 2.00
//   [2] = 3.00
//   [3] = 4.00
//   [4] = 5.00
//
// mixed array:
//   [0] = 42.00
//   [1] = text
//   [2] = true
//
// First element: 1.00
// Second element: 2.00
// After numbers[2] = 99:
//   numbers[2] = 99.00</div>

        <h3>Array Element Assignment</h3>
        <p>Modify individual array elements using index assignment:</p>
        <div class="code-block">// Direct array element assignment
scores := [10, 20, 30]
scores[1] = 99         // scores is now [10, 99, 30]

// Works with nested structures too
points := [Point{1, 2}, Point{3, 4}]
points[0].x = 100      // Change first point's x

// Object with array field
container := Container{[1, 2, 3]}
container.items[1] = 50  // Modify element in nested array

// Deep nesting works
obj.data[0].position.x = 999</div>

        <h3>Null</h3>
        <p>Represents the absence of a value:</p>
        <div class="code-block">// Flows without explicit return give null
Flow NoReturn()
    "Side effect" -> Print

result := NoReturn()
// result is null</div>

        <h3>Variable Types (Custom)</h3>
        <p>User-defined types from <code>.var</code> files:</p>
        <div class="code-block">// Defined in types.var:
// Variable Vector3
//     x := 0.0
//     y := 0.0
//     z := 0.0

// Instantiate in .ouro:
pos := Vector3
pos.x = 10.0
pos.y = 20.0
pos.z = 30.0</div>
      </div>

      <div class="doc-section" id="operators">
        <h2>Operators</h2>

        <h3>Arithmetic Operators</h3>
        <table class="table">
          <thead>
            <tr><th>Operator</th><th>Name</th><th>Example</th><th>Result</th></tr>
          </thead>
          <tbody>
            <tr><td><code>+</code></td><td>Addition</td><td><code>10 + 5</code></td><td>15</td></tr>
            <tr><td><code>-</code></td><td>Subtraction</td><td><code>10 - 5</code></td><td>5</td></tr>
            <tr><td><code>*</code></td><td>Multiplication</td><td><code>10 * 5</code></td><td>50</td></tr>
            <tr><td><code>/</code></td><td>Division</td><td><code>10 / 4</code></td><td>2.5</td></tr>
            <tr><td><code>%</code></td><td>Modulo</td><td><code>10 % 3</code></td><td>1</td></tr>
            <tr><td><code>-</code></td><td>Negation</td><td><code>-42</code></td><td>-42</td></tr>
          </tbody>
        </table>
        <p><strong>Note:</strong> Division always returns a floating-point result, even for integer operands.</p>

        <h3>Comparison Operators</h3>
        <p><strong>Note:</strong> Use Unicode <code>≥</code> and <code>≤</code> for greater/less-or-equal.</p>
        <table class="table">
          <thead>
            <tr><th>Operator</th><th>Name</th><th>Example</th></tr>
          </thead>
          <tbody>
            <tr><td><code>==</code></td><td>Equal</td><td><code>a == b</code></td></tr>
            <tr><td><code>!=</code></td><td>Not equal</td><td><code>a != b</code></td></tr>
            <tr><td><code>></code></td><td>Greater than</td><td><code>a > b</code></td></tr>
            <tr><td><code><</code></td><td>Less than</td><td><code>a < b</code></td></tr>
            <tr><td><code>≥</code></td><td>Greater or equal</td><td><code>a ≥ b</code></td></tr>
            <tr><td><code>≤</code></td><td>Less or equal</td><td><code>a ≤ b</code></td></tr>
          </tbody>
        </table>

        <h3>Logical Operators</h3>
        <table class="table">
          <thead>
            <tr><th>Operator</th><th>Name</th><th>Example</th></tr>
          </thead>
          <tbody>
            <tr><td><code>&</code></td><td>Logical AND</td><td><code>a & b</code></td></tr>
            <tr><td><code>|</code></td><td>Logical OR</td><td><code>a | b</code></td></tr>
            <tr><td><code>!</code></td><td>Logical NOT</td><td><code>!a</code></td></tr>
          </tbody>
        </table>

        <div class="code-block">// COMPLETE EXAMPLE: Logical Operators
// Save as: logic.ouro

"=== Logical Operators Demo ==="  -> Print

active := true
paused := false
level := 7
has_key := true

"Variables:" -> Print
"active = " + active -> Print
"paused = " + paused -> Print
"level = " + level -> Print
"has_key = " + has_key -> Print

"" -> Print
"Testing: active & !paused & (level > 5 | has_key)" -> Print
if (active & !paused & (level > 5 | has_key))
    "Result: Access granted!" -> Print
else
    "Result: Access denied" -> Print

// Change paused to true
"" -> Print
"Setting paused = true..." -> Print
paused = true
if (active & !paused)
    "Result: Running" -> Print
else
    "Result: Paused" -> Print

// Expected Output:
// === Logical Operators Demo ===
// Variables:
// active = true
// paused = false
// level = 7.00
// has_key = true
//
// Testing: active & !paused & (level > 5 | has_key)
// Result: Access granted!
//
// Setting paused = true...
// Result: Paused</div>

        <h3>String Concatenation</h3>
        <div class="code-block">// COMPLETE EXAMPLE: String Concatenation
// Save as: strings.ouro

"=== String Concatenation Demo ==="  -> Print

first := "Hello"
second := "World"
message := first + ", " + second + "!"
message -> Print

name := "Alice"
age := 25
"" -> Print
"Name: " + name + ", Age: " + age -> Print

// Build complex strings
score := 100
level := 5
"" -> Print
"Player Stats: Level " + level + " | Score " + score -> Print

// Expected Output:
// === String Concatenation Demo ===
// Hello, World!
//
// Name: Alice, Age: 25.00
//
// Player Stats: Level 5.00 | Score 100.00</div>

        <h3>Operator Precedence</h3>
        <p>From highest to lowest:</p>
        <ol class="list">
          <li><code>!</code> (unary not), <code>-</code> (unary negation)</li>
          <li><code>*</code>, <code>/</code>, <code>%</code></li>
          <li><code>+</code>, <code>-</code></li>
          <li><code>></code>, <code><</code>, <code>≥</code>, <code>≤</code></li>
          <li><code>==</code>, <code>!=</code></li>
          <li><code>&</code></li>
          <li><code>|</code></li>
        </ol>
        <p>Use parentheses to override precedence:</p>
        <div class="code-block">result := (a + b) * (c - d)
check := (x > 5) & (y < 10) | force_override</div>
      </div>

      <div class="doc-section" id="control-flow">
        <h2>Control Flow</h2>

        <h3>If / Elseif / Else</h3>
        <p>Conditional branching. Bodies are indented with 4 spaces:</p>
        <div class="code-block">// COMPLETE EXAMPLE: If/Elseif/Else
// Save as: grading.ouro

"=== Grading System ==="  -> Print

Flow GetGrade(score)
    if (score ≥ 90)
        grade := "A"
        "Excellent!" -> Print
    elseif (score ≥ 80)
        grade := "B"
        "Good job!" -> Print
    elseif (score ≥ 70)
        grade := "C"
        "Passing" -> Print
    elseif (score ≥ 60)
        grade := "D"
        "Needs work" -> Print
    else
        grade := "F"
        "Failed" -> Print
    return grade

"Testing score 85:" -> Print
GetGrade(85)
"Grade: " + grade -> Print

"" -> Print
"Testing score 92:" -> Print
GetGrade(92)
"Grade: " + grade -> Print

"" -> Print
"Testing score 55:" -> Print
GetGrade(55)
"Grade: " + grade -> Print

// Expected Output:
// === Grading System ===
// Testing score 85:
// Good job!
// Grade: B
//
// Testing score 92:
// Excellent!
// Grade: A
//
// Testing score 55:
// Failed
// Grade: F</div>

        <h3>Nested Conditionals</h3>
        <div class="code-block">// COMPLETE EXAMPLE: Nested Conditionals
// Save as: nested_if.ouro

"=== Nested Conditionals Demo ==="  -> Print

Flow CheckHealth(alive, health)
    if (alive)
        if (health < 20)
            "Critical health!" -> Print
        elseif (health < 50)
            "Low health" -> Print
        else
            "Healthy" -> Print
    else
        "Game Over" -> Print

"Player 1 (alive, health=15):" -> Print
CheckHealth(true, 15)

"" -> Print
"Player 2 (alive, health=45):" -> Print
CheckHealth(true, 45)

"" -> Print
"Player 3 (alive, health=80):" -> Print
CheckHealth(true, 80)

"" -> Print
"Player 4 (dead, health=0):" -> Print
CheckHealth(false, 0)

// Expected Output:
// === Nested Conditionals Demo ===
// Player 1 (alive, health=15):
// Critical health!
//
// Player 2 (alive, health=45):
// Low health
//
// Player 3 (alive, health=80):
// Healthy
//
// Player 4 (dead, health=0):
// Game Over</div>

        <h3>While Loop</h3>
        <p>Loop while a condition is true:</p>
        <div class="code-block">// COMPLETE EXAMPLE: While Loop
// Save as: while_loop.ouro

"=== While Loop Demo ==="  -> Print

counter := 0

"Counting to 5:" -> Print
while (counter < 5)
    "Count: " + counter -> Print
    counter = counter + 1

"" -> Print
"Loop finished! Final counter: " + counter -> Print

// Sum numbers 1 to 10
sum := 0
i := 1
while (i ≤ 10)
    sum = sum + i
    i = i + 1

"" -> Print
"Sum of 1 to 10: " + sum -> Print

// Expected Output:
// === While Loop Demo ===
// Counting to 5:
// Count: 0.00
// Count: 1.00
// Count: 2.00
// Count: 3.00
// Count: 4.00
//
// Loop finished! Final counter: 5.00
//
// Sum of 1 to 10: 55.00</div>

        <h3>For Loop</h3>
        <p>A C-style for loop with initialization, condition, and increment expressions separated by commas:</p>
        <div class="code-block">// Syntax: for variable = start, condition, increment
for i = 0, i < 5, i++
    i -> Print</div>

        <p>The for loop has three parts:</p>
        <ol class="list">
          <li><strong>Initialization:</strong> <code>i = 0</code> — Sets the starting value</li>
          <li><strong>Condition:</strong> <code>i < 5</code> — Loop continues while true</li>
          <li><strong>Increment:</strong> <code>i++</code> — Executes after each iteration</li>
        </ol>

        <div class="code-block">// COMPLETE EXAMPLE: For Loop
// Save as: for_loop.ouro

"=== For Loop Demo ==="  -> Print

"Counting 0 to 4:" -> Print
for i = 0, i < 5, i++
    "i = " + i -> Print

"" -> Print
"Counting down from 5 to 1:" -> Print
for j = 5, j > 0, j--
    "j = " + j -> Print

"" -> Print
"Sum of 1 to 10:" -> Print
sum := 0
for n = 1, n ≤ 10, n++
    sum = sum + n
"Total: " + sum -> Print

// Expected Output:
// === For Loop Demo ===
// Counting 0 to 4:
// i = 0.00
// i = 1.00
// i = 2.00
// i = 3.00
// i = 4.00
//
// Counting down from 5 to 1:
// j = 5.00
// j = 4.00
// j = 3.00
// j = 2.00
// j = 1.00
//
// Sum of 1 to 10:
// Total: 55.00</div>

        <h3>Chained For Loops (Nested)</h3>
        <p>Chain multiple loops together using colons (<code>:</code>) to create nested iterations:</p>
        <div class="code-block">// Syntax: for outer : inner : more_inner
for x = 0, x < 3, x++ : y = 0, y < 2, y++
    "x=" + x + ", y=" + y -> Print</div>

        <p>This creates a nested loop where the inner loop runs completely for each iteration of the outer loop:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Nested For Loops
// Save as: nested_for.ouro

"=== Nested For Loops Demo ==="  -> Print

"2D Grid Coordinates:" -> Print
for row = 0, row < 3, row++ : col = 0, col < 4, col++
    "  (" + row + ", " + col + ")" -> Print

"" -> Print
"Multiplication Table (3x3):" -> Print
for a = 1, a ≤ 3, a++ : b = 1, b ≤ 3, b++
    result := a * b
    a + " × " + b + " = " + result -> Print

// Expected Output:
// === Nested For Loops Demo ===
// 2D Grid Coordinates:
//   (0.00, 0.00)
//   (0.00, 1.00)
//   (0.00, 2.00)
//   (0.00, 3.00)
//   (1.00, 0.00)
//   ... and so on</div>

        <h3>Case Blocks in For Loops</h3>
        <p>Use <code>case</code> to execute code only when a loop variable matches a specific condition:</p>
        <div class="code-block">// Syntax: case condition
for i = 0, i < 5, i++
    case i == 0
        "First iteration!" -> Print
    case i == 2
        "Middle!" -> Print
    case i == 4
        "Last iteration!" -> Print
    "i = " + i -> Print</div>

        <p>Case blocks are powerful for handling specific iterations differently:</p>
        <div class="code-block">// COMPLETE EXAMPLE: For Loop with Case
// Save as: for_case.ouro

"=== For Loop with Case Demo ==="  -> Print

"Processing items 0-4:" -> Print
for i = 0, i < 5, i++
    case i == 0
        "  [START] Beginning processing" -> Print
    case i == 2
        "  [MIDDLE] Halfway there!" -> Print
    case i == 4
        "  [END] Final item" -> Print
    "  Processing item " + i -> Print

// Expected Output:
// === For Loop with Case Demo ===
// Processing items 0-4:
//   [START] Beginning processing
//   Processing item 0.00
//   Processing item 1.00
//   [MIDDLE] Halfway there!
//   Processing item 2.00
//   Processing item 3.00
//   [END] Final item
//   Processing item 4.00</div>

        <h3>Kill Statement</h3>
        <p>Exit a loop early with the <code>kill</code> keyword:</p>
        <div class="code-block">// COMPLETE EXAMPLE: Kill Statement
// Save as: kill_demo.ouro

"=== Kill Statement Demo ==="  -> Print

"Searching for 7 in range 0-9:" -> Print
for i = 0, i < 10, i++
    "Checking " + i -> Print
    if i == 7
        "Found it! Exiting loop." -> Print
        kill
    
"" -> Print
"Loop exited." -> Print

// Expected Output:
// === Kill Statement Demo ===
// Searching for 7 in range 0-9:
// Checking 0.00
// Checking 1.00
// Checking 2.00
// Checking 3.00
// Checking 4.00
// Checking 5.00
// Checking 6.00
// Checking 7.00
// Found it! Exiting loop.
//
// Loop exited.</div>

        <h3>Loop with Break Condition</h3>
        <div class="code-block">// COMPLETE EXAMPLE: Loop with Early Exit
// Save as: search_loop.ouro

"=== Search Loop Demo ==="  -> Print

// Array to search
data := [5, 12, 8, 42, 7, 19, 3]
target := 42

i := 0
found := false

"Searching for " + target + " in array..." -> Print

while (i < Len(data) & !found)
    "Checking index " + i + ": " + data[i] -> Print
    if (data[i] == target)
        found = true
        "Found at index: " + i -> Print
    i = i + 1

"" -> Print
if (found)
    "Search successful!" -> Print
else
    "Target not found" -> Print

// Expected Output:
// === Search Loop Demo ===
// Searching for 42.00 in array...
// Checking index 0.00: 5.00
// Checking index 1.00: 12.00
// Checking index 2.00: 8.00
// Checking index 3.00: 42.00
// Found at index: 3.00
//
// Search successful!</div>

        <h3>Conditional Gates (Inline)</h3>
        <p>Use arrow gates for inline conditional execution:</p>
        <div class="code-block">value := 75

// Only executes if condition is true
value -[value > 50]-> HighHandler
value -[value ≤ 50]-> LowHandler

// With transformation
value -[value > 90 ? "CRITICAL"]-> AlertSystem</div>
      </div>

      <div class="doc-section" id="variable-types">
        <h2>Variable Types (.var Files)</h2>
        <p>Define reusable data structures in <code>.var</code> files.</p>

        <h3>Basic Variable Type</h3>
        <div class="code-block">// In types.var
Variable Vector3
    x := 0.0
    y := 0.0
    z := 0.0

Variable PlayerStats
    health := 100
    maxHealth := 100
    stamina := 50
    level := 1</div>

        <h3>Using Variable Types</h3>
        <div class="code-block">// In game.ouro
pos := Vector3
pos.x = 10.0
pos.y = 5.0
pos.z = 0.0

player := PlayerStats
player.health = 80
player.level = 5

"Player Level: " -> Print
player.level -> Print</div>

        <h3>Nested Types</h3>
        <div class="code-block">// In types.var
Variable Transform
    position := Vector3
    rotation := Vector3
    scale := Vector3

// In game.ouro
t := Transform
t.position.x = 100.0
t.position.y = 50.0
t.rotation.z = 45.0</div>

        <h3>Default Values</h3>
        <p>Fields have default values that are used when instantiated:</p>
        <div class="code-block">Variable GameState
    score := 0          // Default: 0
    level := 1          // Default: 1
    lives := 3          // Default: 3
    is_paused := false  // Default: false

// All defaults applied on instantiation
game := GameState
game.score -> Print  // 0.00</div>
      </div>

      <div class="doc-section" id="components">
        <h2>Components (.comp Files)</h2>
        <p>Components group related fields for use in entity composition.</p>

        <h3>Basic Component</h3>
        <div class="code-block">// In components.comp
Component HealthBase
    currentHealth := 100
    maxHealth := 100
    regeneration := 0.5

Component Transform
    Position := Vector3
    Rotation := Vector3
    Scale := Vector3</div>

        <h3>Component with Arrow Bindings</h3>
        <p>Components can declare reactive relationships:</p>
        <div class="code-block">// Sensor outputs continuously feed DataProcessor
Component SensorFusion
    SensorArray >- DataProcessor
    NavigationUnit >- DataProcessor</div>

        <h3>Component with Forks</h3>
        <div class="code-block">// Input broadcasts to multiple systems
Component PlayerController
    InputHandler -< PhysicsSystem
    InputHandler -< AudioSystem</div>
      </div>

      <div class="doc-section" id="entities">
        <h2>Entities (.ent Files)</h2>
        <p>Entities aggregate components to create game objects.</p>

        <h3>Basic Entity</h3>
        <div class="code-block">// In entities.ent
Entity Player
    Transform
    HealthBase
    Inventory

Entity Enemy
    Transform
    HealthBase
    AI</div>

        <h3>Templates</h3>
        <p>Templates are reusable entity blueprints:</p>
        <div class="code-block">Template Boss
    Transform
    HealthBase
    AI

Template Vendor
    Transform
    Inventory</div>

        <h3>Entity with Arrow Relationships</h3>
        <div class="code-block">Entity PlayerCharacter
    // Input drives Physics and Rendering
    InputHandler -< PhysicsSystem
    InputHandler -< RenderSystem
    
    // Physics continuously updates Audio
    PhysicsSystem -◁ AudioSystem</div>

        <h3>Using Entities in Scripts</h3>
        <div class="code-block">// In game.ouro
p := Player
p.Transform.Position.x = 100.0
p.HealthBase.currentHealth = 80

enemy := Enemy
enemy.Transform.Position.x = 200.0
enemy.AI.aggression = 0.8</div>
      </div>

      <div class="doc-section" id="field-access">
        <h2>Field Access</h2>
        <p>Access fields of Variable types, Components, and Entities using dot notation.</p>

        <h3>Basic Field Access</h3>
        <div class="code-block">player := PlayerStats
player.health = 100
player.level = 5

current := player.health
current -> Print  // 100.00</div>

        <h3>Nested Field Access</h3>
        <div class="code-block">transform := Transform
transform.position.x = 10.0
transform.position.y = 20.0
transform.rotation.z = 45.0</div>

        <h3>Array and Field Access Combinations</h3>
        <p>Combine array indexing and field access in any order:</p>
        <div class="code-block">// Array of objects - access field on element
enemies := [Enemy{100}, Enemy{200}, Enemy{300}]
enemies[1].health = 150    // Modify second enemy's health

// Object with array field - access element
inventory := Inventory{["sword", "shield", "potion"]}
inventory.items[0] -> Print  // "sword"
inventory.items[2] = "elixir"  // Replace item

// Deep nesting - any combination works
game.players[0].inventory.items[2].durability = 50

// Reading deeply nested values
dmg := game.enemies[i].weapon.baseDamage + bonus</div>

        <h3>Field Access in Expressions</h3>
        <div class="code-block">damage := attacker.power - defender.armor
new_health := player.health - damage

if player.health ≤ 0
    player.is_alive = false</div>

        <h3>Field Binding</h3>
        <p>Bind fields reactively:</p>
        <div class="code-block">width := 10
height := 20

rect := Rectangle
rect.width <- width      // One-way binding
rect.height <-> height   // Two-way sync</div>
      </div>

      <div class="doc-section" id="execution">
        <h2>Execution Model</h2>

        <h3>Sequential Execution (Comma)</h3>
        <p>Use commas to execute statements in order:</p>
        <div class="code-block">"Step 1" -> Print,
"Step 2" -> Print,
"Step 3" -> Print

// All three print in order</div>

        <h3>Parallel Execution (Colon)</h3>
        <p>Use colons for parallel/concurrent execution:</p>
        <div class="code-block">TaskA() : TaskB() : TaskC() -> Print

// All three may execute concurrently</div>

        <h3>Async Execution</h3>
        <p>Async arrows (<code>->></code>, <code>-<<</code>, etc.) spawn separate threads:</p>
        <div class="code-block">// Async operations run in background threads
"task1" ->> Worker     // Spawns thread, continues immediately
"task2" ->> Worker     // Spawns another thread
"Main thread done" -> Print  // May print before workers finish

// Async fork - parallel broadcast
event -<< Handler1, Handler2, Handler3  // All run concurrently</div>

        <h3>Script Execution Order</h3>
        <ol class="list">
          <li><code>.var</code> files are loaded (type definitions)</li>
          <li><code>.comp</code> files are loaded (component definitions)</li>
          <li><code>.ent</code> files are loaded (entity definitions)</li>
          <li><code>.ouro</code> files are executed (flows and logic)</li>
        </ol>

        <h3>Flow Definition vs Execution</h3>
        <p>Flow definitions are parsed but not executed until called:</p>
        <div class="code-block">// This is just a definition - doesn't run yet
Flow Greet(name)
    "Hello, " + name -> Print
    return true

// This actually executes the flow
Greet("World")</div>

        <h3>Reactive Updates</h3>
        <p>Variables bound with <code><-</code> auto-update when dependencies change:</p>
        <div class="code-block">a := 10
b := 20
sum <- a + b  // 30

a = 50
// sum is now automatically 70</div>

        <h3>Sync Updates</h3>
        <p>Variables connected with <code><-></code> stay synchronized:</p>
        <div class="code-block">left := 100
right := 0

left <-> right
// right is now 100

right = 250
// left is now also 250</div>
      </div>
    </main>
  </div>

  <footer>
    <p>Ouroboros Language © 2026</p>
  </footer>

  <script>
    // Add copy buttons to all code blocks
    document.addEventListener('DOMContentLoaded', function() {
      const codeBlocks = document.querySelectorAll('.code-block');
      
      codeBlocks.forEach((block, index) => {
        // Create wrapper
        const wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';
        block.parentNode.insertBefore(wrapper, block);
        wrapper.appendChild(block);
        
        // Create copy button
        const copyBtn = document.createElement('button');
        copyBtn.className = 'copy-btn';
        copyBtn.textContent = 'Copy';
        copyBtn.setAttribute('data-code-index', index);
        
        wrapper.appendChild(copyBtn);
        
        // Copy functionality
        copyBtn.addEventListener('click', function() {
          const code = block.textContent;
          navigator.clipboard.writeText(code).then(() => {
            // Show success state
            const originalText = copyBtn.textContent;
            copyBtn.textContent = 'Copied!';
            copyBtn.classList.add('copied');
            
            setTimeout(() => {
              copyBtn.textContent = originalText;
              copyBtn.classList.remove('copied');
            }, 2000);
          }).catch(err => {
            console.error('Failed to copy:', err);
            copyBtn.textContent = 'Failed';
            setTimeout(() => {
              copyBtn.textContent = 'Copy';
            }, 2000);
          });
        });
      });
    });
  </script>
  <script src="search.js"></script>
</body>
</html>
